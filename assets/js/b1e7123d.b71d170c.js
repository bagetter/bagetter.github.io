"use strict";(self.webpackChunkba_getter=self.webpackChunkba_getter||[]).push([[14],{9651:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>d,frontMatter:()=>t,metadata:()=>i,toc:()=>l});var r=s(5893),a=s(1151);const t={},o="Run BaGetter on Azure",i={id:"Installation/azure",title:"Run BaGetter on Azure",description:"!!! warning",source:"@site/docs/Installation/azure.md",sourceDirName:"Installation",slug:"/Installation/azure",permalink:"/docs/Installation/azure",draft:!1,unlisted:!1,editUrl:"https://github.com/bagetter/bagetter.github.io/tree/main/docs/Installation/azure.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Run BaGetter on AWS",permalink:"/docs/Installation/aws"},next:{title:"Run BaGetter on Docker",permalink:"/docs/Installation/docker"}},c={},l=[{value:"TODO",id:"todo",level:2},{value:"Configure BaGetter",id:"configure-bagetter",level:2},{value:"Azure SQL database",id:"azure-sql-database",level:3},{value:"Azure Blob Storage",id:"azure-blob-storage",level:3},{value:"Azure Search",id:"azure-search",level:3},{value:"Publish packages",id:"publish-packages",level:2},{value:"Restore packages",id:"restore-packages",level:2},{value:"Symbol server",id:"symbol-server",level:2}];function u(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"run-bagetter-on-azure",children:"Run BaGetter on Azure"}),"\n",(0,r.jsx)(n.p,{children:"!!! warning\nThis page is a work in progress!"}),"\n",(0,r.jsxs)(n.p,{children:["Use Azure to scale BaGetter. You can store metadata on ",(0,r.jsx)(n.a,{href:"https://azure.microsoft.com/en-us/services/sql-database/",children:"Azure SQL Database"}),", upload packages to ",(0,r.jsx)(n.a,{href:"https://azure.microsoft.com/en-us/services/storage/blobs/",children:"Azure Blob Storage"}),", and provide powerful search using ",(0,r.jsx)(n.a,{href:"https://azure.microsoft.com/en-us/services/search/",children:"Azure Search"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"todo",children:"TODO"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"App Service"}),"\n",(0,r.jsx)(n.li,{children:"Table Storage"}),"\n",(0,r.jsx)(n.li,{children:"High availability setup"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"configure-bagetter",children:"Configure BaGetter"}),"\n",(0,r.jsxs)(n.p,{children:["You can modify BaGetter's configurations by editing the ",(0,r.jsx)(n.code,{children:"appsettings.json"})," file. For the full list of configurations, please refer to ",(0,r.jsx)(n.a,{href:"/docs/configuration",children:"BaGetter's configuration"})," guide."]}),"\n",(0,r.jsx)(n.h3,{id:"azure-sql-database",children:"Azure SQL database"}),"\n",(0,r.jsxs)(n.p,{children:["Update the ",(0,r.jsx)(n.code,{children:"appsettings.json"})," file:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    ...\n\n    "Database": {\n        "Type": "SqlServer",\n        "ConnectionString": "..."\n    },\n\n    ...\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"azure-blob-storage",children:"Azure Blob Storage"}),"\n",(0,r.jsxs)(n.p,{children:["Update the ",(0,r.jsx)(n.code,{children:"appsettings.json"})," file:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    ...\n\n    "Storage": {\n        "Type": "AzureBlobStorage",\n\n        "AccountName": "my-account",\n        "AccessKey": "abcd1234",\n        "Container": "my-container"\n    },\n\n    ...\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:"Alternatively, you can use a full Azure Storage connection string:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    ...\n\n    "Storage": {\n        "Type": "AzureBlobStorage",\n\n        "ConnectionString": "AccountName=my-account;AccountKey=abcd1234;...",\n        "Container": "my-container"\n    },\n\n    ...\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"azure-search",children:"Azure Search"}),"\n",(0,r.jsxs)(n.p,{children:["Update the ",(0,r.jsx)(n.code,{children:"appsettings.json"})," file:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    ...\n\n    "Search": {\n        "Type": "Azure",\n        "AccountName": "my-account",\n        "ApiKey": "ABCD1234"\n    },\n\n    ...\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"publish-packages",children:"Publish packages"}),"\n",(0,r.jsx)(n.p,{children:"Publish your first package with:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"dotnet nuget push -s http://localhost:5000/v3/index.json package.1.0.0.nupkg\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Publish your first ",(0,r.jsx)(n.a,{href:"https://docs.microsoft.com/en-us/nuget/create-packages/symbol-packages-snupkg",children:"symbol package"})," with:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"dotnet nuget push -s http://localhost:5000/v3/index.json symbol.package.1.0.0.snupkg\n"})}),"\n",(0,r.jsxs)(n.p,{children:["!!! warning\nYou should secure your server by requiring an API Key to publish packages. For more information, please refer to the ",(0,r.jsx)(n.a,{href:"/docs/configuration#require-an-api-key",children:"Require an API Key"})," guide."]}),"\n",(0,r.jsx)(n.h2,{id:"restore-packages",children:"Restore packages"}),"\n",(0,r.jsx)(n.p,{children:"You can restore packages by using the following package source:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"http://localhost:5000/v3/index.json"})}),"\n",(0,r.jsx)(n.p,{children:"Some helpful guides:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://docs.microsoft.com/en-us/nuget/consume-packages/install-use-packages-visual-studio#package-sources",children:"Visual Studio"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://docs.microsoft.com/en-us/nuget/reference/nuget-config-file#package-source-sections",children:"NuGet.config"})}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"symbol-server",children:"Symbol server"}),"\n",(0,r.jsx)(n.p,{children:"You can load symbols by using the following symbol location:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"http://localhost:5000/api/download/symbols"})}),"\n",(0,r.jsxs)(n.p,{children:["For Visual Studio, please refer to the ",(0,r.jsx)(n.a,{href:"https://docs.microsoft.com/en-us/visualstudio/debugger/specify-symbol-dot-pdb-and-source-files-in-the-visual-studio-debugger?view=vs-2017#configure-symbol-locations-and-loading-options",children:"Configure Debugging"})," guide."]})]})}function d(e={}){const{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},1151:(e,n,s)=>{s.d(n,{Z:()=>i,a:()=>o});var r=s(7294);const a={},t=r.createContext(a);function o(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);